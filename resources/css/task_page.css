<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root{
      --twb-orange:#f29a2e;
      --twb-orange-2:#f6b25b;
      --twb-muted:#6c757d;
      --twb-bg:#f7f8fa;
      --twb-card:#ffffff;
      --twb-border:#e6e8ee;
      --twb-shadow: 0 1px 2px rgba(16,24,40,.06), 0 1px 1px rgba(16,24,40,.04);
    }

    body{ background: var(--twb-bg); }

    .app-shell{ max-width: 1100px; }

    .brand-mark{
      width: 34px; height: 34px; border-radius: 8px;
      background: linear-gradient(135deg, var(--twb-orange), #ffcc7a);
      display: grid; place-items: center; color: #fff; font-weight: 700;
      box-shadow: var(--twb-shadow);
    }

    .card{ border-color: var(--twb-border); box-shadow: var(--twb-shadow); }
    .soft-muted{ color: var(--twb-muted); }

    .stage-pill{
      border: 1px solid var(--twb-border);
      background: #fff;
      border-radius: 10px;
      padding: .65rem .75rem;
      min-height: 78px;
    }
    .stage-pill.active{
      border-color: rgba(13,110,253,.25);
      box-shadow: 0 0 0 .25rem rgba(13,110,253,.07);
    }
    .stage-title{ font-weight: 600; font-size: .95rem; }
    .stage-meta{ font-size: .8rem; color: var(--twb-muted); }

    .btn-orange{
      --bs-btn-bg: var(--twb-orange);
      --bs-btn-border-color: var(--twb-orange);
      --bs-btn-hover-bg: #e78a18;
      --bs-btn-hover-border-color: #e78a18;
      --bs-btn-active-bg: #d97f14;
      --bs-btn-active-border-color: #d97f14;
      --bs-btn-color: #fff;
    }

    .btn-green-white{
      --bs-btn-bg: white;
      --bs-btn-border-color: #009951;
      --bs-btn-hover-bg: #e78a18;
      --bs-btn-hover-border-color: #e78a18;
      --bs-btn-active-bg: #d97f14;
      --bs-btn-active-border-color: #d97f14;
      --bs-btn-color: #fff;
    }

    .section-title{
      font-size: .95rem;
      font-weight: 700;
      margin-bottom: .5rem;
    }

    .accordion-button:not(.collapsed){
      background: #fff7ee;
      color: #2b2f36;
      box-shadow: none;
    }

    .divider-soft{ border-top: 1px dashed var(--twb-border); }

    .preview-shell{
      background: #e9ecef;
      border: 1px solid var(--twb-border);
      border-radius: 12px;
      height: 280px;
      position: relative;
      overflow: hidden;
    }
    .preview-btn{
      position:absolute; inset: 0;
      display:grid; place-items:center;
    }

    .confirm-bar{
      border-radius: 10px;
      background: var(--twb-orange);
      color: #fff;
      border: 0;
      padding: .75rem 1rem;
      font-weight: 600;
      width: 100%;
    }

    .badge-task{
      background: rgba(13,110,253,.1);
      color: #0d6efd;
      border: 1px solid rgba(13,110,253,.25);
      font-weight: 600;
    }

    .keyrow{
      display:flex; gap: 1rem; flex-wrap: wrap;
      padding: .9rem 1rem;
      border: 1px solid var(--twb-border);
      border-radius: 12px;
      background: #fff;
      box-shadow: var(--twb-shadow);
    }
    .keyrow .k{
      display:flex; gap:.6rem; align-items:flex-start;
      min-width: 240px; flex: 1 1 260px;
    }
    .k .ico{
      width: 28px; height: 28px; border-radius: 8px;
      background: #f2f4f7; display:grid; place-items:center;
      color:#344054;
      flex: 0 0 auto;
    }
    .k .label{ font-size:.78rem; color: var(--twb-muted); margin-bottom:.1rem; }
    .k .value{ font-size:.92rem; font-weight:600; line-height:1.2; }

/* Overlay sits below highlighted card but above everything else */
.revision-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    z-index: 1050; /* Higher than navbar (Bootstrap uses ~1030-1040) */
    opacity: 0;
    transition: opacity 0.25s ease;
}

/* Visible state */
.revision-overlay.active {
    opacity: 1;
}

/* Highlighted revision card */
.revision-highlight {
    position: relative;
    z-index: 1100; /* Higher than overlay */
    box-shadow: 0 0 0 4px #ffc107,
                0 25px 60px rgba(0,0,0,0.5);
    border-radius: 10px;
    transition: 0.25s ease;
}
  </style>
